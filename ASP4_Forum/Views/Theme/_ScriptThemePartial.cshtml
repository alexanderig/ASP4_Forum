
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-bs4.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.16/dist/summernote-bs4.min.js"></script>
<script type="text/javascript">
    $('.composer').summernote({
        placeholder: 'Write text message here and post',
        height: 350,        
        toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear', 'fontsize']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'hr', 'picture']],
           
        ]
    });
    $('.composer').summernote('justifyLeft');
   
    //$('.composer').summernote('insertImage', url, function ($image) {
    //    $image.css('width', $image.width() / 3);
    //    $image.attr('data-filename', 'retriever');
    //});
    $(document).ready(function () {
        //alert("ready");
        $('#save').click(function (e) {
            e.preventDefault();
            var composertext = $('.composer').summernote('code');
            var UName = "@HttpContext.Current.User.Identity.Name";
            var Themeid = $('#themeid').val();
            //alert(ThemeID);
            var form = new FormData();
            form.append("ThemeID", Themeid);
            form.append("PostText", composertext);
            form.append("UserName", UName);
            $.ajax({
                type: "POST",
                url: '@Url.Action("PostSave", "Theme")',
                //contentType: false,
                dataType: "json",
                contentType: "application/json; charset=utf-8",
               // processData: false,
                //data: form,
                data: JSON.stringify({
                    ThemeID: Themeid,
                    PostText: composertext,
                    UserName: UName
                }),
                success: function (data) {
                    $('#postcontent').html(data);
                },

                error: function (jqXHR, exception) {
                    if (jqXHR.status === 0) {
                        alert('Not connect. Verify Network.');
                    } else if (jqXHR.status == 404) {
                        alert('Requested page not found (404).');
                    } else if (jqXHR.status == 500) {
                        alert('Internal Server Error (500).');
                    } else if (exception === 'parsererror') {
                        alert('Requested JSON parse failed.');
                    } else if (exception === 'timeout') {
                        alert('Time out error.');
                    } else if (exception === 'abort') {
                        alert('Ajax request aborted.');
                    } else {
                        alert('Uncaught Error. ' + jqXHR.responseText);
                    }
                }
            })
            //alert('works');
            //$('#result').empty();
            //$('#result').html(composertext);

        });
        $('#editcode').click((e) => {
            //e.preventDefault();
            $('.composer').summernote('pasteHTML', $('#postcontent').html());             
        })
    });
    //alert($('Getbutton').val());
</script>